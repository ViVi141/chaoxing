================================
âœ… ä»»åŠ¡åˆ›å»º422é”™è¯¯å·²ä¿®å¤
================================

ã€é—®é¢˜åŸå› ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ é”™è¯¯: Request failed with status code 422

ğŸ” æ ¹æœ¬åŸå› :
   - åç«¯æœŸæœ› course_ids æ˜¯æ•°ç»„: List[str]
   - å‰ç«¯å‘é€çš„æ˜¯å­—ç¬¦ä¸²: "id1,id2,id3"
   - æ•°æ®ç±»å‹ä¸åŒ¹é…å¯¼è‡´éªŒè¯å¤±è´¥

ã€ä¿®å¤å†…å®¹ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… 1. æ•°æ®æ ¼å¼ä¿®æ­£
   ä¹‹å‰: values.course_ids = selectedCourseIds.join(',')  // å­—ç¬¦ä¸²
   ç°åœ¨: course_ids: selectedCourseIds  // æ•°ç»„

âœ… 2. å­—æ®µåä¿®æ­£
   ä¹‹å‰: course_name (ä¸åŒ¹é…åç«¯schema)
   ç°åœ¨: name (åŒ¹é… TaskCreate.name)

âœ… 3. æ•°æ®ç»“æ„ä¼˜åŒ–
   æäº¤æ•°æ®:
   {
     "name": "ä»»åŠ¡åç§°",
     "course_ids": ["256367723", "256367724"]
   }

âœ… 4. æ·»åŠ è°ƒè¯•æ—¥å¿—
   console.log('æäº¤ä»»åŠ¡æ•°æ®:', submitData)

ã€åç«¯Schemaã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

class TaskCreate(BaseModel):
    name: str = Field(..., min_length=1, max_length=200)
    course_ids: Optional[List[str]] = Field(None)

å¿…éœ€å­—æ®µ:
- name: ä»»åŠ¡åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

å¯é€‰å­—æ®µ:
- course_ids: è¯¾ç¨‹IDåˆ—è¡¨ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰

ã€å‰ç«¯æäº¤é€»è¾‘ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. éªŒè¯è¯¾ç¨‹é€‰æ‹©
   if (selectedCourseIds.length === 0) {
     message.error('è¯·è‡³å°‘é€‰æ‹©ä¸€é—¨è¯¾ç¨‹');
   }

2. å‡†å¤‡æ•°æ®
   const submitData = {
     name: values.task_name || firstCourse.courseName,
     course_ids: selectedCourseIds  // æ•°ç»„æ ¼å¼
   };

3. æäº¤
   return formProps.onFinish?.(submitData);

ã€æµ‹è¯•æ­¥éª¤ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. åˆ·æ–°æµè§ˆå™¨ (Ctrl + F5)
2. è¿›å…¥"ä»»åŠ¡ç®¡ç†" â†’ "åˆ›å»º"
3. ç­‰å¾…è¯¾ç¨‹åˆ—è¡¨åŠ è½½
4. å‹¾é€‰1-2é—¨è¯¾ç¨‹
5. å¡«å†™ä»»åŠ¡åç§°ï¼ˆå¯é€‰ï¼‰
6. ç‚¹å‡»"ä¿å­˜"
7. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„æ—¥å¿—
8. ç¡®è®¤ä»»åŠ¡åˆ›å»ºæˆåŠŸ

ã€é¢„æœŸç»“æœã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… æ§åˆ¶å°è¾“å‡º:
   æäº¤ä»»åŠ¡æ•°æ®: {
     name: "æ°‘æ­Œé‰´èµ",
     course_ids: ["256367723"]
   }

âœ… åç«¯å“åº”:
   201 Created
   { id: 1, name: "æ°‘æ­Œé‰´èµ", status: "pending", ... }

âœ… é¡µé¢è·³è½¬:
   è‡ªåŠ¨è·³è½¬åˆ°ä»»åŠ¡åˆ—è¡¨
   æ˜¾ç¤ºæ–°åˆ›å»ºçš„ä»»åŠ¡

ã€ç›¸å…³æ–‡ä»¶ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… å‰ç«¯:
   web/frontend/src/pages/tasks/create-full.tsx

âœ… åç«¯:
   web/backend/routes/task.py
   web/backend/schemas.py (TaskCreate)
   web/backend/models.py (Task)

ã€æ•°æ®æµã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å‰ç«¯è¡¨å•
  â†“
handleSubmit() å¤„ç†
  â†“
å‡†å¤‡ submitData {name, course_ids[]}
  â†“
formProps.onFinish() (Refine)
  â†“
dataProvider.create()
  â†“
POST /api/tasks
  â†“
TaskCreate schema éªŒè¯
  â†“
åˆ›å»º Task å¯¹è±¡
  â†“
ä¿å­˜åˆ°æ•°æ®åº“
  â†“
è¿”å› 201 + TaskResponse

ã€å¸¸è§é—®é¢˜ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Q1: ä»ç„¶422é”™è¯¯ï¼Ÿ
A1: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—ï¼Œç¡®è®¤æäº¤çš„æ•°æ®æ ¼å¼

Q2: course_idsæ˜¯ç©ºçš„ï¼Ÿ
A2: ç¡®ä¿å‹¾é€‰äº†è¯¾ç¨‹ï¼ŒselectedCourseIdsä¸ä¸ºç©º

Q3: ä»»åŠ¡åç§°ä¸ºç©ºï¼Ÿ
A3: 
   - æ–¹æ¡ˆ1: æ‰‹åŠ¨å¡«å†™ä»»åŠ¡åç§°
   - æ–¹æ¡ˆ2: ç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨ç¬¬ä¸€é—¨è¯¾ç¨‹åç§°

Q4: å¦‚ä½•éªŒè¯ä¿®å¤ï¼Ÿ
A4: 
   1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
   2. åˆ‡æ¢åˆ°Consoleæ ‡ç­¾
   3. åˆ›å»ºä»»åŠ¡
   4. æŸ¥çœ‹"æäº¤ä»»åŠ¡æ•°æ®"æ—¥å¿—
   5. ç¡®è®¤course_idsæ˜¯æ•°ç»„æ ¼å¼

================================
âœ… ä¿®å¤å®Œæˆï¼Œå¯ä»¥æ­£å¸¸åˆ›å»ºä»»åŠ¡äº†ï¼
================================

