# ================================
# 超星学习通自动化完成任务点（增强版）
# 统一依赖文件 - 包含命令行版和Web平台所有依赖
# 更新日期: 2025-10-13
# Python版本要求: 3.12+
# ================================
#
# ⚠️ 重要提示：安装前请先安装系统级依赖！
#
# Linux系统依赖安装:
#   Ubuntu/Debian: sudo apt-get install -y gcc python3-dev libffi-dev libssl-dev libxml2-dev libxslt1-dev libjpeg-dev libpng-dev zlib1g-dev
#   CentOS/RHEL: sudo yum install -y gcc python3-devel libffi-devel openssl-devel libxml2-devel libxslt-devel libjpeg-turbo-devel libpng-devel zlib-devel
#   或运行: bash scripts/install_system_deps.sh
#
# Windows系统:
#   通常不需要额外依赖，但建议安装 Visual C++ Build Tools
#   下载: https://visualstudio.microsoft.com/downloads/
#
# 安装Python依赖:
#   pip install --upgrade pip setuptools wheel
#   pip install -r requirements.txt
#
# 验证安装:
#   python scripts/verify_dependencies.py
# ================================

# ============ 核心依赖（命令行版） ============
# HTTP请求
requests==2.32.3
httpx==0.27.2
urllib3==2.2.3

# HTML解析
beautifulsoup4==4.12.3
lxml==5.3.0

# 加密和安全
pyaes==1.6.1
cryptography==44.0.0  # ⬆️ 安全更新

# 日志和工具
loguru==0.7.3  # ⬆️ 更新
argparse==1.4.0

# 任务队列（基础）
celery==5.4.0

# 其他工具
flask==3.0.3
fonttools==4.54.1
openai==1.56.0  # ⬆️ 更新
ddddocr==1.5.6  # 最新版本，支持Python 3.12

# ============ Web平台依赖 ============
# Web框架
fastapi==0.115.0
uvicorn[standard]==0.32.1  # ⬆️ 更新
gunicorn==23.0.0

# Windows特定依赖（Celery文件系统队列需要）
pywin32==306; sys_platform == 'win32'

# 数据库
sqlalchemy[asyncio]==2.0.36  # ⬆️ 更新
alembic==1.14.0  # ⬆️ 更新
aiosqlite==0.20.0  # SQLite异步驱动（简单模式）
asyncpg==0.30.0  # ⬆️ PostgreSQL异步驱动（标准模式）
psycopg2-binary==2.9.10  # ⬆️ PostgreSQL同步驱动（Celery任务需要）

# 认证和安全
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.9

# 数据验证
pydantic==2.10.3  # ⬆️ 更新
pydantic-settings==2.6.1  # ⬆️ 更新
email-validator==2.2.0

# 任务队列（完整）
redis==5.1.1  # 可选，仅标准模式需要

# WebSocket
websockets==13.1
python-socketio==5.11.4

# HTTP客户端（异步）
aiohttp==3.10.10  # ⬆️ 更新

# 配置和环境
python-dotenv==1.0.1

# 监控和性能（可选）
prometheus-client==0.21.0

# ============ 开发工具（可选） ============
pytest==8.3.4  # ⬆️ 更新
pytest-asyncio==0.24.0
pytest-cov==6.0.0  # 测试覆盖率
pytest-mock==3.14.0  # Mock工具
httpx==0.27.2  # API测试（已在核心依赖）
black==24.10.0
flake8==7.1.1
ruff==0.8.4  # ⬆️ 更新
slowapi==0.1.9  # API限流

# ================================
# 安装说明：
# 1. 命令行版最小安装：pip install -r requirements.txt
# 2. Web平台完整安装：pip install -r requirements.txt
# 3. 开发环境安装：pip install -r requirements.txt
#
# 注意事项：
# - asyncpg和redis仅在标准模式下需要
# - 简单模式只需要aiosqlite（零依赖）
# - 开发工具（pytest等）仅开发环境需要
# ================================
