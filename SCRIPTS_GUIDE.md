# ğŸš€ ä¸€é”®å¯åŠ¨è„šæœ¬ä½¿ç”¨æŒ‡å—

> **è®©éƒ¨ç½²å’Œè¿è¡Œå˜å¾—æå…¶ç®€å•ï¼**

---

## ğŸ“‹ è„šæœ¬æ€»è§ˆ

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ªä¾¿æ·è„šæœ¬ï¼Œè®©ä½ æ— éœ€æ‰‹åŠ¨é…ç½®ç¯å¢ƒï¼Œä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚

### æ ¸å¿ƒè„šæœ¬

| è„šæœ¬ | Windows | Linux/Mac | è¯´æ˜ |
|------|---------|-----------|------|
| **ç¯å¢ƒè®¾ç½®** | `setup_env.bat` | `setup_env.sh` | è‡ªåŠ¨è®¾ç½®è™šæ‹Ÿç¯å¢ƒå’Œä¾èµ– |
| **ä¸€é”®å¯åŠ¨** | `start_all.bat` | `start_all.sh` | ä¸€æ¬¡å¯åŠ¨æ‰€æœ‰WebæœåŠ¡ |
| **åç«¯å¯åŠ¨** | `web\start_backend.bat` | `web/start_backend.sh` | å•ç‹¬å¯åŠ¨åç«¯æœåŠ¡ |
| **Celeryå¯åŠ¨** | `web\start_celery.bat` | `web/start_celery.sh` | å•ç‹¬å¯åŠ¨Celery Worker |

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ä¸€ï¼šé¦–æ¬¡ä½¿ç”¨ï¼ˆæ–°ç”¨æˆ·ï¼‰

**æœ€ç®€å•çš„æ–¹å¼ï¼š**

```batch
# Windows
start_all.bat
```

```bash
# Linux/Mac
chmod +x start_all.sh
./start_all.sh
```

**å®ƒä¼šè‡ªåŠ¨**ï¼š
1. âœ… æ£€æµ‹è™šæ‹Ÿç¯å¢ƒï¼ˆæ²¡æœ‰åˆ™è‡ªåŠ¨åˆ›å»ºï¼‰
2. âœ… å®‰è£…æ‰€æœ‰ä¾èµ–
3. âœ… å¯åŠ¨åç«¯ã€Celeryã€å‰ç«¯ä¸‰ä¸ªæœåŠ¡
4. âœ… æ‰“å¼€æµè§ˆå™¨è®¿é—®é¡µé¢

### åœºæ™¯äºŒï¼šæ—¥å¸¸å¼€å‘

**æ¨èä½¿ç”¨åˆ†åˆ«å¯åŠ¨ï¼š**

```batch
# Windows - ä¸‰ä¸ªç»ˆç«¯åˆ†åˆ«è¿è¡Œ
web\start_backend.bat
web\start_celery.bat
cd web\frontend && npm run dev
```

```bash
# Linux/Mac - ä¸‰ä¸ªç»ˆç«¯åˆ†åˆ«è¿è¡Œ
./web/start_backend.sh
./web/start_celery.sh
cd web/frontend && npm run dev
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ¯ä¸ªæœåŠ¡ç‹¬ç«‹ç»ˆç«¯ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ—¥å¿—
- âœ… å¯ä»¥å•ç‹¬é‡å¯æŸä¸ªæœåŠ¡
- âœ… å¼€å‘æ—¶æ›´çµæ´»

### åœºæ™¯ä¸‰ï¼šåªç”¨å‘½ä»¤è¡Œç‰ˆ

```bash
# 1. è®¾ç½®ç¯å¢ƒï¼ˆé¦–æ¬¡ï¼‰
./setup_env.sh  # Linux/Mac
# æˆ– setup_env.bat  # Windows

# 2. è¿è¡Œ
python main.py -c config.ini
```

---

## ğŸ“– è¯¦ç»†è¯´æ˜

### 1. setup_env.bat / setup_env.sh

**åŠŸèƒ½**ï¼šä¸€é”®è®¾ç½®å¼€å‘ç¯å¢ƒ

**åšäº†ä»€ä¹ˆ**ï¼š
```
[1/4] æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
  - å¦‚æœå­˜åœ¨ï¼šä½¿ç”¨ç°æœ‰ç¯å¢ƒ âœ…
  - å¦‚æœä¸å­˜åœ¨ï¼šåˆ›å»ºæ–°ç¯å¢ƒ ğŸ†•

[2/4] æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
  - Windows: venv\Scripts\activate.bat
  - Linux/Mac: source venv/bin/activate

[3/4] å‡çº§pip
  - python -m pip install --upgrade pip

[4/4] å®‰è£…æ‰€æœ‰ä¾èµ–
  - pip install -r requirements.txt
  - åŒ…å«å‘½ä»¤è¡Œç‰ˆ + Webå¹³å°æ‰€æœ‰ä¾èµ–
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

Windowsï¼š
```batch
# æ–¹å¼1ï¼šåŒå‡»è¿è¡Œ
åŒå‡» setup_env.bat

# æ–¹å¼2ï¼šå‘½ä»¤è¡Œ
setup_env.bat
```

Linux/Macï¼š
```bash
# æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ï¼‰
chmod +x setup_env.sh

# è¿è¡Œ
./setup_env.sh
```

**æ™ºèƒ½ç‰¹æ€§**ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹è™šæ‹Ÿç¯å¢ƒï¼ˆé¿å…é‡å¤åˆ›å»ºï¼‰
- âœ… é”™è¯¯æç¤ºå‹å¥½
- âœ… æ˜¾ç¤ºå®‰è£…è¿›åº¦

---

### 2. start_all.bat / start_all.sh

**åŠŸèƒ½**ï¼šä¸€é”®å¯åŠ¨æ‰€æœ‰WebæœåŠ¡

**åšäº†ä»€ä¹ˆ**ï¼š
```
[æ£€æŸ¥] è™šæ‹Ÿç¯å¢ƒçŠ¶æ€
  - æœªæ£€æµ‹åˆ° â†’ è‡ªåŠ¨è¿è¡Œ setup_env è®¾ç½®ç¯å¢ƒ

[1/3] å¯åŠ¨åç«¯æœåŠ¡
  - ä½¿ç”¨ï¼špython run_app.py
  - ç«¯å£ï¼š8000
  - APIæ–‡æ¡£ï¼šhttp://localhost:8000/api/docs

[2/3] å¯åŠ¨Celery Worker
  - ä½¿ç”¨ï¼špython run_celery.py
  - å¤„ç†å¼‚æ­¥ä»»åŠ¡
  - è‡ªåŠ¨é€‚é…Windows/Linux

[3/3] å¯åŠ¨å‰ç«¯æœåŠ¡
  - ä½¿ç”¨ï¼šnpm run dev
  - ç«¯å£ï¼š5173
  - è®¿é—®ï¼šhttp://localhost:5173
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

Windowsï¼š
```batch
# æ–¹å¼1ï¼šåŒå‡»è¿è¡Œï¼ˆæ¨èï¼‰
åŒå‡» start_all.bat

# æ–¹å¼2ï¼šå‘½ä»¤è¡Œ
start_all.bat
```

Linux/Macï¼š
```bash
# æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ï¼‰
chmod +x start_all.sh

# è¿è¡Œ
./start_all.sh

# åå°è¿è¡Œå¹¶æŸ¥çœ‹æ—¥å¿—
./start_all.sh &
tail -f logs/backend.log    # æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/celery.log     # æŸ¥çœ‹Celeryæ—¥å¿—
tail -f logs/frontend.log   # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
```

**Windowsç‰¹ç‚¹**ï¼š
- âœ… æ¯ä¸ªæœåŠ¡åœ¨ç‹¬ç«‹çª—å£è¿è¡Œ
- âœ… å…³é—­çª—å£å³åœæ­¢æœåŠ¡
- âœ… ä¾¿äºæŸ¥çœ‹å„æœåŠ¡æ—¥å¿—

**Linux/Macç‰¹ç‚¹**ï¼š
- âœ… åå°è¿è¡Œæ‰€æœ‰æœåŠ¡
- âœ… æ—¥å¿—è¾“å‡ºåˆ°logs/ç›®å½•
- âœ… æ˜¾ç¤ºæ¯ä¸ªæœåŠ¡çš„PID

**åœæ­¢æœåŠ¡**ï¼š

Windowsï¼š
```batch
# å…³é—­æ‰€æœ‰æ‰“å¼€çš„æœåŠ¡çª—å£
```

Linux/Macï¼š
```bash
# æ–¹å¼1ï¼šä½¿ç”¨PIDï¼ˆè„šæœ¬è¾“å‡ºçš„ï¼‰
kill <backend_pid> <celery_pid> <frontend_pid>

# æ–¹å¼2ï¼šæŸ¥æ‰¾å¹¶æ€æ­»è¿›ç¨‹
pkill -f "python app.py"
pkill -f "celery"
pkill -f "npm run dev"
```

---

### 3. web/start_backend.bat / web/start_backend.sh

**åŠŸèƒ½**ï¼šå•ç‹¬å¯åŠ¨åç«¯APIæœåŠ¡

**åšäº†ä»€ä¹ˆ**ï¼š
```
[1/3] æ£€æŸ¥é¡¹ç›®è™šæ‹Ÿç¯å¢ƒï¼ˆæ ¹ç›®å½•ï¼‰
  - æœªæ£€æµ‹åˆ° â†’ æç¤ºè¿è¡Œ setup_env

[2/3] æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

[3/3] å¯åŠ¨åç«¯æœåŠ¡
  - è¿è¡Œï¼špython run_app.py
  - ç«¯å£ï¼š8000
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

Windowsï¼š
```batch
# åŒå‡»è¿è¡Œæˆ–å‘½ä»¤è¡Œ
web\start_backend.bat
```

Linux/Macï¼š
```bash
chmod +x web/start_backend.sh
./web/start_backend.sh
```

**è®¿é—®**ï¼š
- APIæ–‡æ¡£ï¼šhttp://localhost:8000/api/docs
- å¥åº·æ£€æŸ¥ï¼šhttp://localhost:8000/api/health
- é»˜è®¤ç®¡ç†å‘˜ï¼šadmin / Admin@123

---

### 4. web/start_celery.bat / web/start_celery.sh

**åŠŸèƒ½**ï¼šå•ç‹¬å¯åŠ¨Celeryä»»åŠ¡é˜Ÿåˆ—

**åšäº†ä»€ä¹ˆ**ï¼š
```
[1/3] æ£€æŸ¥é¡¹ç›®è™šæ‹Ÿç¯å¢ƒï¼ˆæ ¹ç›®å½•ï¼‰
  - æœªæ£€æµ‹åˆ° â†’ æç¤ºè¿è¡Œ setup_env

[2/3] æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

[3/3] å¯åŠ¨Celery Worker
  - Windows: ä½¿ç”¨soloæ± æ¨¡å¼
  - Linux/Mac: ä½¿ç”¨é»˜è®¤æ± æ¨¡å¼
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

Windowsï¼š
```batch
web\start_celery.bat
```

Linux/Macï¼š
```bash
chmod +x web/start_celery.sh
./web/start_celery.sh
```

**æ³¨æ„äº‹é¡¹**ï¼š
- âœ… ä½¿ç”¨ `run_celery.py` ç»Ÿä¸€å…¥å£
- âœ… è‡ªåŠ¨é€‚é…Windowsï¼ˆsoloæ± ï¼‰å’ŒLinuxï¼ˆå¤šè¿›ç¨‹æ± ï¼‰
- âœ… éœ€è¦å…ˆå¯åŠ¨åç«¯æœåŠ¡

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: é¦–æ¬¡ä½¿ç”¨åº”è¯¥è¿è¡Œå“ªä¸ªè„šæœ¬ï¼Ÿ

**A**: è¿è¡Œ `start_all.bat`ï¼ˆWindowsï¼‰æˆ– `start_all.sh`ï¼ˆLinux/Macï¼‰

å®ƒä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è®¾ç½®ç¯å¢ƒï¼Œç„¶åå¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚

### Q2: è„šæœ¬æç¤º"æœªæ£€æµ‹åˆ°è™šæ‹Ÿç¯å¢ƒ"æ€ä¹ˆåŠï¼Ÿ

**A**: è¿è¡Œç¯å¢ƒè®¾ç½®è„šæœ¬ï¼š

```bash
# Windows
setup_env.bat

# Linux/Mac
chmod +x setup_env.sh && ./setup_env.sh
```

### Q3: å¦‚ä½•åªå¯åŠ¨æŸä¸ªæœåŠ¡ï¼Ÿ

**A**: ä½¿ç”¨å¯¹åº”çš„å•ç‹¬å¯åŠ¨è„šæœ¬ï¼š

```bash
# åªå¯åŠ¨åç«¯
web\start_backend.bat  # Windows
./web/start_backend.sh # Linux/Mac

# åªå¯åŠ¨Celery
web\start_celery.bat   # Windows
./web/start_celery.sh  # Linux/Mac
```

### Q4: è™šæ‹Ÿç¯å¢ƒåœ¨å“ªé‡Œï¼Ÿ

**A**: åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.venv/` æ–‡ä»¶å¤¹ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰

æ‰€æœ‰è„šæœ¬éƒ½ä½¿ç”¨è¿™ä¸ªç»Ÿä¸€çš„è™šæ‹Ÿç¯å¢ƒã€‚

### Q5: å¦‚ä½•æ›´æ–°ä¾èµ–ï¼Ÿ

**A**: é‡æ–°è¿è¡Œç¯å¢ƒè®¾ç½®è„šæœ¬ï¼š

```bash
# å®ƒä¼šè‡ªåŠ¨æ£€æµ‹åˆ°è™šæ‹Ÿç¯å¢ƒå¹¶æ›´æ–°ä¾èµ–
setup_env.bat  # Windows
./setup_env.sh # Linux/Mac
```

### Q6: Linux/Macè„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Ÿ

**A**: æ·»åŠ æ‰§è¡Œæƒé™ï¼š

```bash
chmod +x setup_env.sh start_all.sh
chmod +x web/start_backend.sh web/start_celery.sh
```

### Q7: å¦‚ä½•æŸ¥çœ‹æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Ÿ

**A**: è®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- åç«¯å¥åº·æ£€æŸ¥ï¼šhttp://localhost:8000/api/health
- å‰ç«¯é¡µé¢ï¼šhttp://localhost:5173
- APIæ–‡æ¡£ï¼šhttp://localhost:8000/api/docs

### Q8: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**A**: 

WindowsæŸ¥æ‰¾å¹¶å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
```batch
netstat -ano | findstr :8000
taskkill /PID <è¿›ç¨‹ID> /F
```

Linux/MacæŸ¥æ‰¾å¹¶å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
```bash
lsof -i :8000
kill -9 <è¿›ç¨‹ID>
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒï¼ˆæ¨èï¼‰

1. **é¦–æ¬¡è®¾ç½®**ï¼š
   ```bash
   ./setup_env.sh  # æˆ– setup_env.bat
   ```

2. **æ—¥å¸¸å¼€å‘**ï¼š
   ```bash
   # ä¸‰ä¸ªç»ˆç«¯åˆ†åˆ«è¿è¡Œ
   ./web/start_backend.sh
   ./web/start_celery.sh
   cd web/frontend && npm run dev
   ```

3. **ä¼˜åŠ¿**ï¼š
   - æ¯ä¸ªæœåŠ¡ç‹¬ç«‹ç»ˆç«¯
   - æ–¹ä¾¿æŸ¥çœ‹æ—¥å¿—
   - å¯ä»¥å•ç‹¬é‡å¯

### å¿«é€Ÿæ¼”ç¤ºï¼ˆæ¨èï¼‰

1. **ä¸€é”®å¯åŠ¨**ï¼š
   ```bash
   ./start_all.sh  # æˆ– start_all.bat
   ```

2. **ä¼˜åŠ¿**ï¼š
   - æœ€å¿«é€Ÿåº¦å¯åŠ¨
   - é€‚åˆæ¼”ç¤ºå’Œæµ‹è¯•
   - ä¸€ä¸ªå‘½ä»¤æå®š

### ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰

ä½¿ç”¨Dockeréƒ¨ç½²ï¼š
```bash
cd web
docker-compose -f docker-compose.simple.yml up -d
```

---

## ğŸ“Š è„šæœ¬å…³ç³»å›¾

```
é¡¹ç›®æ ¹ç›®å½•/
â”‚
â”œâ”€â”€ setup_env.bat/sh        â†’ è®¾ç½®ç»Ÿä¸€è™šæ‹Ÿç¯å¢ƒ
â”‚                              â†“
â”œâ”€â”€ .venv/                   â†’ æ‰€æœ‰æ¨¡å—å…±äº«ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰
â”‚   â”œâ”€â”€ Scripts/bin/         â†’ Pythonè§£é‡Šå™¨
â”‚   â””â”€â”€ Lib/lib/             â†’ æ‰€æœ‰ä¾èµ–åŒ…
â”‚                              â†“
â”œâ”€â”€ start_all.bat/sh         â†’ è°ƒç”¨ .venvï¼Œå¯åŠ¨æ‰€æœ‰æœåŠ¡
â”‚   â”œâ”€â”€ åç«¯    â†â”€â”€â”
â”‚   â”œâ”€â”€ Celery  â†â”€â”€â”¼â”€â”€ éƒ½ä½¿ç”¨ .venv/
â”‚   â””â”€â”€ å‰ç«¯    â†â”€â”€â”˜
â”‚
â””â”€â”€ web/
    â”œâ”€â”€ start_backend.bat/sh â†’ è°ƒç”¨ .venvï¼Œå¯åŠ¨åç«¯
    â””â”€â”€ start_celery.bat/sh  â†’ è°ƒç”¨ .venvï¼Œå¯åŠ¨Celery
```

**æ ¸å¿ƒç†å¿µ**ï¼š
- ğŸ¯ **ä¸€ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªç¯å¢ƒ**
- ğŸ¯ **æ‰€æœ‰è„šæœ¬ï¼Œç»Ÿä¸€è™šæ‹Ÿç¯å¢ƒ**
- ğŸ¯ **è‡ªåŠ¨æ£€æµ‹ï¼Œæ™ºèƒ½å¤„ç†**

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

å¯åŠ¨å‰ç¡®ä¿ï¼š

- [ ] å·²å®‰è£…Python 3.10+
- [ ] å·²å®‰è£…Node.js 16+ï¼ˆä»…Webå¹³å°éœ€è¦ï¼‰
- [ ] é¡¹ç›®å®Œæ•´ï¼ˆåŒ…å«æ‰€æœ‰æ–‡ä»¶ï¼‰
- [ ] ç½‘ç»œæ­£å¸¸ï¼ˆé¦–æ¬¡éœ€è¦ä¸‹è½½ä¾èµ–ï¼‰

ä½¿ç”¨è„šæœ¬ï¼š

- [ ] Windowsç”¨æˆ·ï¼šåŒå‡».batæ–‡ä»¶æˆ–å‘½ä»¤è¡Œè¿è¡Œ
- [ ] Linux/Macç”¨æˆ·ï¼šå…ˆ `chmod +x` å†è¿è¡Œ
- [ ] é¦–æ¬¡ä½¿ç”¨ï¼šè¿è¡Œ `start_all`
- [ ] æ—¥å¸¸å¼€å‘ï¼šåˆ†åˆ«å¯åŠ¨å„æœåŠ¡

---

## ğŸ‰ æ€»ç»“

æœ‰äº†è¿™äº›ä¸€é”®å¯åŠ¨è„šæœ¬ï¼Œä½ å¯ä»¥ï¼š

âœ… **3ç§’å¯åŠ¨** - åŒå‡»è„šæœ¬å³å¯  
âœ… **é›¶é…ç½®** - è‡ªåŠ¨è®¾ç½®æ‰€æœ‰ç¯å¢ƒ  
âœ… **ç»Ÿä¸€ç®¡ç†** - ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œæ‰€æœ‰æ¨¡å—å…±äº«  
âœ… **æ™ºèƒ½æ£€æµ‹** - è‡ªåŠ¨åˆ¤æ–­ç¯å¢ƒçŠ¶æ€  
âœ… **å‹å¥½æç¤º** - æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œå¸®åŠ©  

**å†ä¹Ÿä¸ç”¨æ‹…å¿ƒç¯å¢ƒé…ç½®é—®é¢˜ï¼**

---

**åŸé¡¹ç›®**: [Samueli924/chaoxing](https://github.com/Samueli924/chaoxing)  
**å¢å¼ºç‰ˆ**: [ViVi141/chaoxing](https://github.com/ViVi141/chaoxing)  
**å¼€å‘è€…**: ViVi141 (747384120@qq.com)

